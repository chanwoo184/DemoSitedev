(function(){"use strict";var t={2734:function(t,e,i){var s=i(5130),o=i(6768);const n={id:"app"};function r(t,e,i,s,r,l){const a=(0,o.g2)("HomeMain");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(a)])}const l={class:"home"};function a(t,e,i,s,n,r){const a=(0,o.g2)("Banner"),c=(0,o.g2)("MovieRow");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(a,{movie:s.featuredMovie},null,8,["movie"]),(0,o.bF)(c,{title:"인기 영화",fetchUrl:s.popularMoviesUrl},null,8,["fetchUrl"]),(0,o.bF)(c,{title:"최신 영화",fetchUrl:s.newReleasesUrl},null,8,["fetchUrl"]),(0,o.bF)(c,{title:"액션 영화",fetchUrl:s.actionMoviesUrl},null,8,["fetchUrl"])])}var c=i(144),h=i(4232);const u={class:"banner-content"};function d(t,e,i,s,n,r){return i.movie?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"banner",style:(0,h.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,o.Lk)("div",u,[(0,o.Lk)("h1",null,(0,h.v_)(i.movie.title),1),(0,o.Lk)("p",null,(0,h.v_)(i.movie.overview),1),e[0]||(e[0]=(0,o.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),e[1]||(e[1]=(0,o.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,o.Q3)("",!0)}var v={name:"Banner",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}},g=i(1241);const f=(0,g.A)(v,[["render",d],["__scopeId","data-v-286154c8"]]);var p=f;const m={class:"movie-row"},b=["disabled"],w={class:"slider-window",ref:"sliderWindow"},M=["onClick"],y=["src","alt"],k={key:0,class:"wishlist-indicator"},L=["disabled"];function R(t,e,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("h2",null,(0,h.v_)(i.title),1),(0,o.Lk)("div",{class:"slider-container",onWheel:e[2]||(e[2]=(0,s.D$)(((...t)=>l.handleWheel&&l.handleWheel(...t)),["prevent"])),onTouchstart:e[3]||(e[3]=(...t)=>l.handleTouchStart&&l.handleTouchStart(...t)),onTouchmove:e[4]||(e[4]=(...t)=>l.handleTouchMove&&l.handleTouchMove(...t)),onTouchend:e[5]||(e[5]=(...t)=>l.handleTouchEnd&&l.handleTouchEnd(...t)),onMousemove:e[6]||(e[6]=t=>r.showButtons=!0),onMouseleave:e[7]||(e[7]=t=>r.showButtons=!1)},[(0,o.Lk)("button",{class:"slider-button left",onClick:e[0]||(e[0]=t=>l.slide("left")),style:(0,h.Tr)({opacity:r.showButtons&&!l.atLeftEdge?1:0}),disabled:l.atLeftEdge}," < ",12,b),(0,o.Lk)("div",w,[(0,o.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,h.Tr)({transform:`translateX(-${r.scrollAmount}px)`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.movies,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"movie-card",onClick:e=>l.toggleWishlist(t)},[(0,o.Lk)("img",{src:l.getImageUrl(t.poster_path),alt:t.title},null,8,y),l.isInWishlist(t.id)?((0,o.uX)(),(0,o.CE)("div",k,"👍")):(0,o.Q3)("",!0)],8,M)))),128))],4)],512),(0,o.Lk)("button",{class:"slider-button right",onClick:e[1]||(e[1]=t=>l.slide("right")),style:(0,h.Tr)({opacity:r.showButtons&&!l.atRightEdge?1:0}),disabled:l.atRightEdge}," > ",12,L)],32)])}var S=i(4373),W=i(1114);i(8992),i(4520),i(7550);class U{constructor(){(0,W.A)(this,"wishlist",void 0),this.wishlist=(0,c.KR)([]),this.loadWishlist()}loadWishlist(){const t=localStorage.getItem("movieWishlist");t&&(this.wishlist.value=JSON.parse(t))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(t){const e=this.wishlist.value.findIndex((e=>e.id===t.id));this.wishlist.value=-1===e?[...this.wishlist.value,t]:this.wishlist.value.filter((e=>e.id!==t.id)),this.saveWishlist()}isInWishlist(t){return this.wishlist.value.some((e=>e.id===t))}getWishlist(){return this.wishlist.value}useWishlist(){return{wishlist:this.wishlist,toggleWishlist:this.toggleWishlist.bind(this),isInWishlist:this.isInWishlist.bind(this),getWishlist:this.getWishlist.bind(this)}}}var E=new U,T={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},data(){return{movies:[],scrollAmount:0,showButtons:!1,touchStartX:0,touchEndX:0,maxScroll:0,isScrolling:!1}},computed:{atLeftEdge(){return this.scrollAmount<=0},atRightEdge(){return this.scrollAmount>=this.maxScroll}},methods:{async fetchMovies(){try{const t=await S.A.get(this.fetchUrl);this.movies=t.data.results,this.$nextTick(this.calculateMaxScroll)}catch(t){console.error("Error fetching movies:",t)}},getImageUrl(t){return`https://image.tmdb.org/t/p/w300${t}`},slide(t,e=null){const i=e||.8*this.$refs.sliderWindow.clientWidth;this.scrollAmount="left"===t?Math.max(0,this.scrollAmount-i):Math.min(this.maxScroll,this.scrollAmount+i)},handleWheel(t){if(this.isScrolling)return;this.isScrolling=!0;const e=t.deltaY>0?"right":"left";this.slide(e),setTimeout((()=>{this.isScrolling=!1}),500)},handleTouchStart(t){this.touchStartX=t.touches[0].clientX,this.touchEndX=this.touchStartX},handleTouchMove(t){this.touchEndX=t.touches[0].clientX},handleTouchEnd(){const t=this.touchStartX-this.touchEndX,e=50;if(Math.abs(t)>e){const e=t>0?"right":"left";this.slide(e,Math.abs(t))}},calculateMaxScroll(){this.$refs.slider&&this.$refs.sliderWindow&&(this.maxScroll=Math.max(0,this.$refs.slider.scrollWidth-this.$refs.sliderWindow.clientWidth))},toggleWishlist(t){E.toggleWishlist(t)},isInWishlist(t){return E.isInWishlist(t)}},async mounted(){await this.fetchMovies(),window.addEventListener("resize",this.calculateMaxScroll)},beforeUnmount(){window.removeEventListener("resize",this.calculateMaxScroll)}};const _=(0,g.A)(T,[["render",R],["__scopeId","data-v-7c098f88"]]);var x=_;class ${async fetchFeaturedMovie(t){try{const e=await S.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${t}&language=ko-KR`);return console.log(e.data.results[0]),e.data.results[0]}catch(e){return console.error("Error fetching featured movie:",e),null}}getURL4PopularMovies(t,e=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${t}&language=ko-KR&page=${e}`}getURL4ReleaseMovies(t,e=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${t}&language=ko-KR&page=${e}`}getURL4GenreMovies(t,e,i=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${t}&with_genres=${e}&language=ko-KR&page=${i}`}useURLService(){return{fetchFeaturedMovie:this.fetchFeaturedMovie.bind(this),getURL4PopularMovies:this.getURL4PopularMovies.bind(this),getURL4ReleaseMovies:this.getURL4ReleaseMovies.bind(this),getURL4GenreMovies:this.getURL4GenreMovies.bind(this)}}}var X=new $,I={name:"HomeMain",components:{Banner:p,MovieRow:x},setup(){const t=localStorage.getItem("TMDb-Key")||"",e=(0,c.KR)(null),i=(0,c.KR)(X.getURL4PopularMovies(t)),s=(0,c.KR)(X.getURL4ReleaseMovies(t)),n=(0,c.KR)(X.getURL4GenreMovies(t,"28")),r=async()=>{e.value=await X.fetchFeaturedMovie(t)},l=()=>{const t=()=>{const t=document.querySelector(".app-header");window.scrollY>50?t?.classList.add("scrolled"):t?.classList.remove("scrolled")};window.addEventListener("scroll",t),(0,o.xo)((()=>{window.removeEventListener("scroll",t)}))};return(0,o.sV)((()=>{r(),l()})),{featuredMovie:e,popularMoviesUrl:i,newReleasesUrl:s,actionMoviesUrl:n}}};const O=(0,g.A)(I,[["render",a],["__scopeId","data-v-86c744c6"]]);var A=O,C={name:"App",components:{HomeMain:A}};const F=(0,g.A)(C,[["render",r]]);var K=F;(0,s.Ef)(K).mount("#app")}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,o,n){if(!s){var r=1/0;for(h=0;h<t.length;h++){s=t[h][0],o=t[h][1],n=t[h][2];for(var l=!0,a=0;a<s.length;a++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[a])}))?s.splice(a--,1):(l=!1,n<r&&(r=n));if(l){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var h=t.length;h>0&&t[h-1][2]>n;h--)t[h]=t[h-1];t[h]=[s,o,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,r=s[0],l=s[1],a=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(a)var h=a(i)}for(e&&e(s);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(h)},s=self["webpackChunkvue_demosite"]=self["webpackChunkvue_demosite"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(2734)}));s=i.O(s)})();
//# sourceMappingURL=app.15ab482f.js.map