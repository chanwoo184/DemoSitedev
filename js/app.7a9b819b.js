(function(){"use strict";var e={4589:function(e,t,o){var i=o(3751),l=o(641);const s={id:"app"};function r(e,t,o,r,a,n){const u=(0,l.g2)("Header"),c=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(u),(0,l.bF)(i.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)(c,{key:e.$route.fullPath}))])),_:1})])}var a=o(33);const n={id:"container"},u={class:"header-left"},c={class:"logo"},d={class:"nav-links desktop-nav"},v={class:"header-right"},g={key:0,class:"header-search"},h={class:"search-results"},p=["src"];function m(e,t,o,s,r,m){const f=(0,l.g2)("font-awesome-icon"),k=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("header",{class:(0,a.C4)(["app-header",{scrolled:s.isScrolled}])},[(0,l.Lk)("div",u,[(0,l.Lk)("div",c,[(0,l.bF)(k,{to:"/"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{icon:s.faFilm,style:{height:"100%",color:"#E50914"}},null,8,["icon"])])),_:1})]),(0,l.Lk)("nav",d,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("홈")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/popular"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("인기 콘텐츠")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/wishlist"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("위시리스트")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/search"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("찾아보기")]))),_:1})])])])]),(0,l.Lk)("div",v,[(0,l.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>s.toggleSearch&&s.toggleSearch(...e))},[(0,l.bF)(f,{icon:s.faSearch},null,8,["icon"])]),(0,l.Lk)("button",{class:"icon-button",onClick:t[1]||(t[1]=(...e)=>s.removeKey&&s.removeKey(...e))},[(0,l.bF)(f,{icon:s.faUser},null,8,["icon"])]),(0,l.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[2]||(t[2]=(...e)=>s.toggleMobileMenu&&s.toggleMobileMenu(...e))},[(0,l.bF)(f,{icon:s.faBars},null,8,["icon"])])])],2),(0,l.Lk)("div",{class:(0,a.C4)(["mobile-nav",{open:s.isMobileMenuOpen}])},[(0,l.Lk)("button",{class:"close-button",onClick:t[3]||(t[3]=(...e)=>s.toggleMobileMenu&&s.toggleMobileMenu(...e))},[(0,l.bF)(f,{icon:s.faTimes},null,8,["icon"])]),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/",onClick:s.toggleMobileMenu},{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("홈")]))),_:1},8,["onClick"])]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/popular",onClick:s.toggleMobileMenu},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/wishlist",onClick:s.toggleMobileMenu},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,l.Lk)("li",null,[(0,l.bF)(k,{to:"/search",onClick:s.toggleMobileMenu},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2),s.isSearchOpen?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.query=e),onInput:t[5]||(t[5]=(...e)=>s.searchMovies&&s.searchMovies(...e)),placeholder:"영화 제목을 입력하세요"},null,544),[[i.Jo,s.query]]),(0,l.Lk)("div",h,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.movies,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"search-result"},[(0,l.bF)(k,{to:{name:"MovieDetail",params:{movieId:e.id}}},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:s.getImageUrl(e.poster_path),alt:"Movie Poster"},null,8,p),(0,l.Lk)("h3",null,(0,a.v_)(e.title),1)])),_:2},1032,["to"])])))),128))])])):(0,l.Q3)("",!0)])}o(4114);var f=o(953),k=o(5220),w=o(5597),b=o(6188),L=o(4335),y={components:{FontAwesomeIcon:w.gc},setup(){const e=(0,k.rd)(),t=(0,f.KR)(!1),o=(0,f.KR)(!1),i=(0,f.KR)(!1),s=(0,f.KR)(""),r=(0,f.KR)([]),a=()=>{t.value=window.scrollY>50},n=()=>{o.value=!o.value},u=()=>{i.value=!i.value},c=()=>{localStorage.removeItem("TMDb-Key"),e.push("/signin")},d=async()=>{if(!(s.value.length<2))try{const e=await L.A.get(`https://api.themoviedb.org/3/search/movie?api_key=81f42d2de384021ea4f2689001e1860a&language=ko-KR&query=${s.value}`);r.value=e.data.results}catch(e){console.error("Error searching movies:",e)}},v=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,l.sV)((()=>{window.addEventListener("scroll",a)})),(0,l.hi)((()=>{window.removeEventListener("scroll",a)})),{faUser:b.X46,faFilm:b.OxR,faBars:b.ckx,faTimes:b.GRI,faSearch:b.MjD,isScrolled:t,isMobileMenuOpen:o,isSearchOpen:i,query:s,movies:r,toggleMobileMenu:n,toggleSearch:u,removeKey:c,searchMovies:d,getImageUrl:v}}},C=o(6262);const M=(0,C.A)(y,[["render",m],["__scopeId","data-v-21bbe95a"]]);var R=M,E={name:"App",components:{Header:R}};const K=(0,C.A)(E,[["render",r]]);var I=K;const _={class:"container"},W={id:"phone"},S={id:"content-wrapper"},P={class:"checkbox remember"},F=["disabled"],U={class:"checkbox remember"},X=["disabled"];function T(e,t,o,s,r,n){return(0,l.uX)(),(0,l.CE)("div",null,[t[33]||(t[33]=(0,l.Lk)("div",{class:"bg-image"},null,-1)),(0,l.Lk)("div",_,[(0,l.Lk)("div",W,[(0,l.Lk)("div",S,[(0,l.Lk)("div",{class:(0,a.C4)(["card",{hidden:!s.isLoginVisible}]),id:"login"},[(0,l.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>s.handleLogin&&s.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,l.Lk)("h1",null,"Sign in",-1)),(0,l.Lk)("div",{class:(0,a.C4)(["input",{active:s.isEmailFocused||s.email}])},[(0,l.bo)((0,l.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),onFocus:t[1]||(t[1]=e=>s.focusInput("email")),onBlur:t[2]||(t[2]=e=>s.blurInput("email"))},null,544),[[i.Jo,s.email]]),t[21]||(t[21]=(0,l.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,l.Lk)("div",{class:(0,a.C4)(["input",{active:s.isPasswordFocused||s.password}])},[(0,l.bo)((0,l.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),onFocus:t[4]||(t[4]=e=>s.focusInput("password")),onBlur:t[5]||(t[5]=e=>s.blurInput("password"))},null,544),[[i.Jo,s.password]]),t[22]||(t[22]=(0,l.Lk)("label",{for:"password"},"Password",-1))],2),(0,l.Lk)("span",P,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>s.rememberMe=e)},null,512),[[i.lH,s.rememberMe]]),t[23]||(t[23]=(0,l.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,l.Lk)("span",{class:"checkbox forgot"},[(0,l.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,l.Lk)("button",{disabled:!s.isLoginFormValid},"Login",8,F)],32),(0,l.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>s.toggleCard&&s.toggleCard(...e))},t[26]||(t[26]=[(0,l.eW)("Already have an account? "),(0,l.Lk)("b",null,"Sign in",-1)]))],2),(0,l.Lk)("div",{class:(0,a.C4)(["card",{hidden:s.isLoginVisible}]),id:"register"},[(0,l.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>s.handleRegister&&s.handleRegister(...e)),["prevent"]))},[t[31]||(t[31]=(0,l.Lk)("h1",null,"Sign up",-1)),(0,l.Lk)("div",{class:(0,a.C4)(["input",{active:s.isRegisterEmailFocused||s.registerEmail}])},[(0,l.bo)((0,l.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>s.registerEmail=e),onFocus:t[10]||(t[10]=e=>s.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>s.blurInput("registerEmail"))},null,544),[[i.Jo,s.registerEmail]]),t[27]||(t[27]=(0,l.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,l.Lk)("div",{class:(0,a.C4)(["input",{active:s.isRegisterPasswordFocused||s.registerPassword}])},[(0,l.bo)((0,l.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>s.registerPassword=e),onFocus:t[13]||(t[13]=e=>s.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>s.blurInput("registerPassword"))},null,544),[[i.Jo,s.registerPassword]]),t[28]||(t[28]=(0,l.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,l.Lk)("div",{class:(0,a.C4)(["input",{active:s.isConfirmPasswordFocused||s.confirmPassword}])},[(0,l.bo)((0,l.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>s.confirmPassword=e),onFocus:t[16]||(t[16]=e=>s.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>s.blurInput("confirmPassword"))},null,544),[[i.Jo,s.confirmPassword]]),t[29]||(t[29]=(0,l.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,l.Lk)("span",U,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>s.acceptTerms=e)},null,512),[[i.lH,s.acceptTerms]]),t[30]||(t[30]=(0,l.Lk)("label",{for:"terms",class:"read-text"},[(0,l.eW)("I have read "),(0,l.Lk)("b",null,"Terms and Conditions")],-1))]),(0,l.Lk)("button",{disabled:!s.isRegisterFormValid},"Register",8,X)],32),(0,l.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[20]||(t[20]=(...e)=>s.toggleCard&&s.toggleCard(...e))},t[32]||(t[32]=[(0,l.eW)("Don't have an account? "),(0,l.Lk)("b",null,"Sign up",-1)]))],2)])])])])}o(8992),o(2577),o(7550);const O={tryLogin(e,t,o=!0){return new Promise(((i,l)=>{const s=JSON.parse(localStorage.getItem("users")||"[]"),r=s.find((o=>o.id===e&&o.password===t));r?(o&&localStorage.setItem("TMDb-Key",r.password),i(r)):l(new Error("Login failed"))}))},tryRegister(e,t){return new Promise(((o,i)=>{try{const i=JSON.parse(localStorage.getItem("users")||"[]"),l=i.some((t=>t.id===e));if(l)throw new Error("User already exists");const s={id:e,password:t};i.push(s),localStorage.setItem("users",JSON.stringify(i)),o()}catch(l){i(l)}}))}};var A={setup(){const e=(0,k.rd)(),t=(0,f.KR)(!0),o=(0,f.KR)(""),i=(0,f.KR)(""),s=(0,f.KR)(""),r=(0,f.KR)(""),a=(0,f.KR)(""),n=(0,f.KR)(!1),u=(0,f.KR)(!1),c=(0,f.KR)(!1),d=(0,f.KR)(!1),v=(0,f.KR)(!1),g=(0,f.KR)(!1),h=(0,f.KR)(!1),p=(0,l.EW)((()=>!!o.value&&!!i.value)),m=(0,l.EW)((()=>!!s.value&&!!r.value&&!!a.value&&r.value===a.value&&u.value)),w=()=>{t.value=!t.value},b=e=>{"email"===e&&(c.value=!0),"password"===e&&(d.value=!0),"registerEmail"===e&&(v.value=!0),"registerPassword"===e&&(g.value=!0),"confirmPassword"===e&&(h.value=!0)},L=e=>{"email"===e&&(c.value=!1),"password"===e&&(d.value=!1),"registerEmail"===e&&(v.value=!1),"registerPassword"===e&&(g.value=!1),"confirmPassword"===e&&(h.value=!1)},y=async()=>{try{await O.tryLogin(o.value,i.value),e.push("/")}catch(t){alert(t.message)}},C=async()=>{try{await O.tryRegister(s.value,r.value),alert("Registration successful"),w()}catch(e){alert(e.message)}};return{isLoginVisible:t,email:o,password:i,registerEmail:s,registerPassword:r,confirmPassword:a,rememberMe:n,acceptTerms:u,isEmailFocused:c,isPasswordFocused:d,isRegisterEmailFocused:v,isRegisterPasswordFocused:g,isConfirmPasswordFocused:h,isLoginFormValid:p,isRegisterFormValid:m,toggleCard:w,focusInput:b,blurInput:L,handleLogin:y,handleRegister:C}}};const x=(0,C.A)(A,[["render",T],["__scopeId","data-v-e1d933ec"]]);var V=x;const $={class:"home"};function B(e,t,o,i,s,r){const a=(0,l.g2)("Banner"),n=(0,l.g2)("MovieRow");return(0,l.uX)(),(0,l.CE)("div",$,[(0,l.bF)(a,{movie:i.featuredMovie},null,8,["movie"]),(0,l.bF)(n,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,l.bF)(n,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,l.bF)(n,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}const D={class:"banner-content"};function j(e,t,o,i,s,r){return o.movie?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"banner",style:(0,a.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,l.Lk)("div",D,[(0,l.Lk)("h1",null,(0,a.v_)(o.movie.title),1),(0,l.Lk)("p",null,(0,a.v_)(o.movie.overview),1),t[0]||(t[0]=(0,l.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,l.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,l.Q3)("",!0)}var z={name:"Banner",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}};const Q=(0,C.A)(z,[["render",j],["__scopeId","data-v-1ce4e08b"]]);var q=Q;const G={class:"movie-row"},J=["disabled"],H={class:"slider-window",ref:"sliderWindow"},N=["onClick"],Y=["src","alt"],Z={key:0,class:"wishlist-indicator"},ee=["disabled"];function te(e,t,o,s,r,n){return(0,l.uX)(),(0,l.CE)("div",G,[(0,l.Lk)("h2",null,(0,a.v_)(o.title),1),(0,l.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(0,i.D$)(((...e)=>n.handleWheel&&n.handleWheel(...e)),["prevent"])),onTouchstart:t[3]||(t[3]=(...e)=>n.handleTouchStart&&n.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>n.handleTouchMove&&n.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>n.handleTouchEnd&&n.handleTouchEnd(...e)),onMousemove:t[6]||(t[6]=e=>r.showButtons=!0),onMouseleave:t[7]||(t[7]=e=>r.showButtons=!1)},[(0,l.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>n.slide("left")),style:(0,a.Tr)({opacity:r.showButtons&&!n.atLeftEdge?1:0}),disabled:n.atLeftEdge}," < ",12,J),(0,l.Lk)("div",H,[(0,l.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,a.Tr)({transform:`translateX(-${r.scrollAmount}px)`})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.movies,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"movie-card",onClick:t=>n.toggleWishlist(e)},[(0,l.Lk)("img",{src:n.getImageUrl(e.poster_path),alt:e.title},null,8,Y),n.isInWishlist(e.id)?((0,l.uX)(),(0,l.CE)("div",Z,"👍")):(0,l.Q3)("",!0)],8,N)))),128))],4)],512),(0,l.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>n.slide("right")),style:(0,a.Tr)({opacity:r.showButtons&&!n.atRightEdge?1:0}),disabled:n.atRightEdge}," > ",12,ee)],32)])}const oe=(0,f.KR)([]);function ie(){const e=()=>{try{const e=localStorage.getItem("movieWishlist");e&&(oe.value=JSON.parse(e))}catch(e){console.error("Failed to load wishlist from localStorage:",e)}},t=()=>{try{localStorage.setItem("movieWishlist",JSON.stringify(oe.value))}catch(e){console.error("Failed to save wishlist to localStorage:",e)}},o=e=>{const o=oe.value.findIndex((t=>t.id===e.id));-1===o?oe.value.push(e):oe.value.splice(o,1),t()},i=e=>oe.value.some((t=>t.id===e));return{wishlist:oe,toggleWishlist:o,isInWishlist:i,loadWishlist:e}}var le={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},data(){return{movies:[],scrollAmount:0,showButtons:!1,touchStartX:0,touchEndX:0,maxScroll:0,isScrolling:!1}},computed:{atLeftEdge(){return this.scrollAmount<=0},atRightEdge(){return this.scrollAmount>=this.maxScroll},wishlist(){return this.useWishlist.wishlist}},methods:{async fetchMovies(){try{const e=await L.A.get(this.fetchUrl);this.movies=e.data.results,this.$nextTick(this.calculateMaxScroll)}catch(e){console.error("Error fetching movies:",e)}},getImageUrl(e){return`https://image.tmdb.org/t/p/w300${e}`},slide(e,t=null){const o=t||.8*this.$refs.sliderWindow.clientWidth;this.scrollAmount="left"===e?Math.max(0,this.scrollAmount-o):Math.min(this.maxScroll,this.scrollAmount+o)},handleWheel(e){if(this.isScrolling)return;this.isScrolling=!0;const t=e.deltaY>0?"right":"left";this.slide(t),setTimeout((()=>{this.isScrolling=!1}),500)},handleTouchStart(e){this.touchStartX=e.touches[0].clientX,this.touchEndX=this.touchStartX},handleTouchMove(e){this.touchEndX=e.touches[0].clientX},handleTouchEnd(){const e=this.touchStartX-this.touchEndX,t=50;if(Math.abs(e)>t){const t=e>0?"right":"left";this.slide(t,Math.abs(e))}},calculateMaxScroll(){this.$refs.slider&&this.$refs.sliderWindow&&(this.maxScroll=Math.max(0,this.$refs.slider.scrollWidth-this.$refs.sliderWindow.clientWidth))},toggleWishlist(e){this.useWishlist.toggleWishlist(e)},isInWishlist(e){return this.useWishlist.isInWishlist(e)}},async mounted(){this.useWishlist=ie(),await this.fetchMovies(),window.addEventListener("resize",this.calculateMaxScroll)},beforeUnmount(){window.removeEventListener("resize",this.calculateMaxScroll)}};const se=(0,C.A)(le,[["render",te],["__scopeId","data-v-922635d2"]]);var re=se;class ae{async fetchFeaturedMovie(e){try{const t=await L.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){return console.error("Error fetching featured movie:",t),null}}getURL4PopularMovies(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}getURL4ReleaseMovies(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}getURL4GenreMovies(e,t,o=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`}useURLService(){return{fetchFeaturedMovie:this.fetchFeaturedMovie.bind(this),getURL4PopularMovies:this.getURL4PopularMovies.bind(this),getURL4ReleaseMovies:this.getURL4ReleaseMovies.bind(this),getURL4GenreMovies:this.getURL4GenreMovies.bind(this)}}}var ne=new ae,ue={name:"HomeMain",components:{Banner:q,MovieRow:re},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,f.KR)(null),o=(0,f.KR)(ne.getURL4PopularMovies(e)),i=(0,f.KR)(ne.getURL4ReleaseMovies(e)),s=(0,f.KR)(ne.getURL4GenreMovies(e,"28")),r=async()=>{try{t.value=await ne.fetchFeaturedMovie(e)}catch(o){console.error("Error fetching featured movie:",o)}},a=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return(0,l.sV)((()=>{r(),window.addEventListener("scroll",a)})),(0,l.xo)((()=>{window.removeEventListener("scroll",a)})),{featuredMovie:t,popularMoviesUrl:o,newReleasesUrl:i,actionMoviesUrl:s}}};const ce=(0,C.A)(ue,[["render",B],["__scopeId","data-v-20bd3d80"]]);var de=ce;function ve(e,t,o,i,s,r){const a=(0,l.g2)("MovieWishlist");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(a)])}const ge={class:"movie-grid",ref:"gridContainer"},he=["onClick"],pe=["src","alt"],me={class:"movie-title"},fe={key:0,class:"empty-wishlist"},ke={key:1,class:"pagination"},we=["disabled"],be=["disabled"];function Le(e,t,o,i,s,r){return(0,l.uX)(),(0,l.CE)("div",ge,[(0,l.Lk)("div",{class:(0,a.C4)(["grid-container",i.currentView])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.visibleWishlistMovies,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:(0,a.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,l.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,pe),(0,l.Lk)("div",me,(0,a.v_)(e.title),1),t[2]||(t[2]=(0,l.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,he)))),128))],2)))),128))],2),i.wishlist.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",fe," 위시리스트가 비어 있습니다. ")),i.totalPages>1?((0,l.uX)(),(0,l.CE)("div",ke,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,we),(0,l.Lk)("span",null,(0,a.v_)(i.currentPage)+" / "+(0,a.v_)(i.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,be)])):(0,l.Q3)("",!0)],512)}o(8872);var ye={name:"MovieWishlist",setup(){const e=(0,f.KR)(null),t=(0,f.KR)(4),o=(0,f.KR)(20),i=(0,f.KR)(1),s=(0,f.KR)(window.innerWidth<=768),r=(0,f.KR)("grid"),a=(0,f.KR)([]),{wishlist:n,toggleWishlist:u,loadWishlist:c}=ie(),d=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",v=()=>{if(e.value){const i=e.value.offsetWidth,l=window.innerHeight-e.value.offsetTop,r=s.value?90:220,a=s.value?150:330,n=s.value?10:15,u=-10;t.value=Math.floor(i/(r+n));const c=Math.floor(l/(a+u));o.value=t.value*c,g()}},g=()=>{const e=(i.value-1)*o.value,l=e+o.value,s=n.value.slice(e,l);a.value=s.reduce(((e,o,i)=>{const l=Math.floor(i/t.value);return e[l]||(e[l]=[]),e[l].push(o),e}),[])},h=(0,l.EW)((()=>Math.ceil(n.value.length/o.value))),p=()=>{i.value<h.value&&i.value++},m=()=>{i.value>1&&i.value--},k=()=>{s.value=window.innerWidth<=768,v()};return(0,l.wB)([n,i],(()=>{g()})),(0,l.sV)((()=>{if(c(),k(),window.addEventListener("resize",k),e.value){const t=new ResizeObserver(v);t.observe(e.value)}})),(0,l.hi)((()=>{window.removeEventListener("resize",k)})),{gridContainer:e,rowSize:t,currentPage:i,isMobile:s,currentView:r,wishlist:n,visibleWishlistMovies:a,totalPages:h,getImageUrl:d,nextPage:p,prevPage:m,toggleWishlist:u}}};const Ce=(0,C.A)(ye,[["render",Le],["__scopeId","data-v-38ac6f58"]]);var Me=Ce,Re={name:"HomeWishlist",components:{MovieWishlist:Me}};const Ee=(0,C.A)(Re,[["render",ve],["__scopeId","data-v-052c169e"]]);var Ke=Ee;const Ie={class:"container-search"},_e={class:"container-search-bar"},We={class:"content-search"};function Se(e,t,o,i,s,r){const a=(0,l.g2)("MovieSearch"),n=(0,l.g2)("MovieInfiniteScroll");return(0,l.uX)(),(0,l.CE)("div",Ie,[(0,l.Lk)("div",_e,[(0,l.bF)(a,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,l.Lk)("div",We,[(0,l.bF)(n,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteAverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteAverage"])])])}const Pe={class:"dropdown-container"},Fe=["onClick"],Ue={key:0,class:"select-items"},Xe=["onClick"];function Te(e,t,o,i,s,r){return(0,l.uX)(),(0,l.CE)("div",Pe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.dropdownEntries,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.key,class:"custom-select"},[(0,l.Lk)("div",{class:"select-selected",onClick:o=>e.toggleDropdown(t.key)},(0,a.v_)(e.selectedOptions[t.key]),9,Fe),e.activeDropdown===t.key?((0,l.uX)(),(0,l.CE)("div",Ue,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.options,(o=>((0,l.uX)(),(0,l.CE)("div",{key:o,onClick:i=>e.selectOption(t.key,o)},(0,a.v_)(o),9,Xe)))),128))])):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...t)=>e.clearOptions&&e.clearOptions(...t))},"초기화")])}o(1454);var Oe=(0,l.pM)({name:"MovieSearch",emits:["changeOptions"],setup(e,{emit:t}){const o={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},s=(0,f.KR)({...i}),r=(0,f.KR)(null),a=(0,l.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),n=e=>{r.value=r.value===e?null:e},u=(e,o)=>{s.value={...s.value,[e]:o},r.value=null,t("changeOptions",s.value)},c=()=>{s.value={...i},t("changeOptions",s.value)};return{dropdownEntries:a,selectedOptions:s,activeDropdown:r,toggleDropdown:n,selectOption:u,clearOptions:c}}});const Ae=(0,C.A)(Oe,[["render",Te],["__scopeId","data-v-61752f7a"]]);var xe=Ae;const Ve={class:"movie-grid",ref:"gridContainer"},$e=["onMouseup"],Be=["src","alt"],De={class:"movie-title"},je={key:0,class:"wishlist-indicator"},ze={ref:"loadingTrigger",class:"loading-trigger"},Qe={key:0,class:"loading-indicator"};function qe(e,t,o,i,s,r){return(0,l.uX)(),(0,l.CE)("div",Ve,[(0,l.Lk)("div",{class:(0,a.C4)(["grid-container",i.currentView])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.visibleMovieGroups,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"movie-row"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,l.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,Be),(0,l.Lk)("div",De,(0,a.v_)(e.title),1),i.isInWishlist(e.id)?((0,l.uX)(),(0,l.CE)("div",je,"👍")):(0,l.Q3)("",!0)],40,$e)))),128))])))),128))],2),(0,l.Lk)("div",ze,[i.isLoading?((0,l.uX)(),(0,l.CE)("div",Qe,t[1]||(t[1]=[(0,l.Lk)("div",{class:"spinner"},null,-1),(0,l.Lk)("span",null,"Loading...",-1)]))):(0,l.Q3)("",!0)],512),i.showTopButton?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"맨 위로 이동"}," Top ")):(0,l.Q3)("",!0)],512)}o(4520);var Ge={name:"MovieInfiniteScroll",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteAverage:{type:Number,default:100}},setup(e){const t=(0,f.KR)([]),o=(0,f.KR)(1),i=(0,f.KR)(4),s=(0,f.KR)(!1),r=(0,f.KR)(window.innerWidth<=768),a=(0,f.KR)("list"),n=(0,f.KR)(!0),u=(0,f.KR)(!1),{toggleWishlist:c,isInWishlist:d}=ie(),v=(0,f.KR)(null),g=(0,f.KR)(null);let h=null;const p=async()=>{if(!s.value&&n.value){s.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",l={api_key:e.apiKey,language:"ko-KR",page:o.value,with_genres:"0"!==e.genreCode?e.genreCode:void 0},s=await L.A.get(i,{params:l}),r=s.data.results;if(r.length>0){let i=[...t.value,...r];"all"!==e.sortingOrder&&(i=i.filter((t=>t.original_language===e.sortingOrder))),i=i.filter((t=>-1===e.voteAverage||(-2===e.voteAverage?t.vote_average<=4:t.vote_average>=e.voteAverage&&t.vote_average<e.voteAverage+1))),"en"===e.sortingOrder?i.sort(((e,t)=>e.title.localeCompare(t.title))):"ko"===e.sortingOrder&&i.sort(((e,t)=>e.title.localeCompare(t.title,"ko"))),t.value=i,o.value++}else n.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{s.value=!1}}};(0,l.wB)([()=>e.genreCode,()=>e.sortingOrder,()=>e.voteAverage],(()=>{t.value=[],o.value=1,n.value=!0,p()}));const m=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",k=(0,l.EW)((()=>t.value.reduce(((e,t,o)=>{const l=Math.floor(o/i.value);return e[l]||(e[l]=[]),e[l].push(t),e}),[]))),w=()=>{if(r.value=window.innerWidth<=768,v.value){const e=v.value.offsetWidth,t=r.value?100:300,o=r.value?10:15;i.value=Math.floor(e/(t+o))}},b=()=>{u.value=window.scrollY>0},y=()=>{window.scrollTo({top:0,behavior:"smooth"}),t.value=[],o.value=1,n.value=!0,p()},C=()=>{h=new IntersectionObserver((e=>{e[0].isIntersecting&&!s.value&&n.value&&p()})),g.value&&h.observe(g.value)};return(0,l.sV)((()=>{C(),p(),w(),window.addEventListener("resize",w),window.addEventListener("scroll",b)})),(0,l.xo)((()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",b),h&&h.disconnect()})),{movies:t,isLoading:s,showTopButton:u,currentView:a,visibleMovieGroups:k,getImageUrl:m,scrollToTopAndReset:y,toggleWishlist:c,isInWishlist:d,loadingTrigger:g,gridContainer:v}}};const Je=(0,C.A)(Ge,[["render",qe],["__scopeId","data-v-c512bcc0"]]);var He=Je,Ne={name:"HomeSearch",components:{MovieSearch:xe,MovieInfiniteScroll:He},setup(){const e=(0,f.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,f.KR)("28"),o=(0,f.KR)(-1),i=(0,f.KR)("all"),l={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},s={"언어 (전체)":"all","영어":"en","한국어":"ko"},r={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},a=e=>{t.value=l[e.originalLanguage]||"0",i.value=s[e.sorting]||"all",o.value=r[e.translationLanguage]||-1};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:a}}};const Ye=(0,C.A)(Ne,[["render",Se]]);var Ze=Ye;const et={class:"popular-container"},tt={class:"view-toggle"};function ot(e,t,o,i,s,r){const n=(0,l.g2)("font-awesome-icon"),u=(0,l.g2)("MovieGrid"),c=(0,l.g2)("MovieInfiniteScroll");return(0,l.uX)(),(0,l.CE)("div",et,[(0,l.Lk)("div",tt,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>i.setView("grid")),class:(0,a.C4)({active:"grid"===i.currentView})},[(0,l.bF)(n,{icon:i.faTh},null,8,["icon"])],2),(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>i.setView("list")),class:(0,a.C4)({active:"list"===i.currentView})},[(0,l.bF)(n,{icon:i.faBars},null,8,["icon"])],2)]),"grid"===i.currentView?((0,l.uX)(),(0,l.Wv)(u,{key:0,title:"인기 영화",fetchUrl:i.fetchURL},null,8,["fetchUrl"])):(0,l.Q3)("",!0),"list"===i.currentView?((0,l.uX)(),(0,l.Wv)(c,{key:1,apiKey:i.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:"-1"},null,8,["apiKey"])):(0,l.Q3)("",!0)])}const it={class:"movie-grid",ref:"gridContainer"},lt=["onMouseup"],st=["src","alt"],rt={class:"movie-title"},at={key:0,class:"wishlist-indicator"},nt={key:0,class:"pagination"},ut=["disabled"],ct=["disabled"];function dt(e,t,o,i,s,r){return(0,l.uX)(),(0,l.CE)("div",it,[(0,l.Lk)("div",{class:(0,a.C4)(["grid-container",i.currentView])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.visibleMovieGroups,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,a.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,l.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,st),(0,l.Lk)("div",rt,(0,a.v_)(e.title),1),i.isInWishlist(e.id)?((0,l.uX)(),(0,l.CE)("div",at,"👍")):(0,l.Q3)("",!0)],40,lt)))),128))],2)))),128))],2),i.totalPages>1?((0,l.uX)(),(0,l.CE)("div",nt,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,ut),(0,l.Lk)("span",null,(0,a.v_)(i.currentPage)+" / "+(0,a.v_)(i.totalPages),1),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,ct)])):(0,l.Q3)("",!0)],512)}var vt={name:"MovieGrid",props:{fetchUrl:{type:String,required:!0}},setup(e){const{toggleWishlist:t,isInWishlist:o}=ie(),i=(0,f.KR)(null),s=(0,f.KR)([]),r=(0,f.KR)(1),a=(0,f.KR)(4),n=(0,f.KR)(20),u=(0,f.KR)(window.innerWidth<=768),c=(0,f.KR)("grid");let d=null;const v=async()=>{try{const t=120,o=Math.ceil(t/20);let i=[];for(let l=1;l<=o;l++){const t=await L.A.get(e.fetchUrl,{params:{page:l,per_page:n.value}});i=[...i,...t.data.results]}s.value=i.slice(0,t)}catch(t){console.error("Error fetching movies:",t)}},g=e=>`https://image.tmdb.org/t/p/w300${e}`,h=(0,l.EW)((()=>{const e=(r.value-1)*n.value,t=e+n.value,o=s.value.slice(e,t);return o.reduce(((e,t,o)=>{const i=Math.floor(o/a.value);return e[i]||(e[i]=[]),e[i].push(t),e}),[])})),p=(0,l.EW)((()=>Math.ceil(s.value.length/n.value))),m=()=>{r.value<p.value&&r.value++},k=()=>{r.value>1&&r.value--},w=()=>{u.value=window.innerWidth<=768,b()},b=()=>{if(i.value){const e=i.value,t=e.offsetWidth,o=window.innerHeight-e.offsetTop,l=u.value?90:200,s=u.value?150:220,r=u.value?10:15,c=-10;a.value=Math.floor(t/(l+r));const d=Math.floor(o/(s+c));n.value=a.value*d}};return(0,l.sV)((async()=>{await v(),b(),window.addEventListener("resize",w)})),(0,l.hi)((()=>{window.removeEventListener("resize",w),d&&clearTimeout(d)})),{gridContainer:i,movies:s,currentPage:r,rowSize:a,moviesPerPage:n,isMobile:u,currentView:c,totalPages:p,visibleMovieGroups:h,nextPage:m,prevPage:k,toggleWishlist:t,isInWishlist:o,getImageUrl:g}}};const gt=(0,C.A)(vt,[["render",dt],["__scopeId","data-v-1c69433d"]]);var ht=gt,pt={name:"HomePopular",components:{FontAwesomeIcon:w.gc,MovieGrid:ht,MovieInfiniteScroll:He},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,f.KR)("grid"),o=(0,f.KR)(document.body.style.overflow),i=e=>{t.value=e,"grid"===e?s():r()},s=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow=o.value||"auto"},a=ne.getURL4PopularMovies(e);return(0,l.sV)((()=>{"grid"===t.value&&s()})),(0,l.hi)((()=>{r()})),{faTh:b.UTC,faBars:b.ckx,apiKey:e,currentView:t,setView:i,fetchURL:a}}};const mt=(0,C.A)(pt,[["render",ot],["__scopeId","data-v-3a1570e6"]]);var ft=mt;const kt={key:0,class:"movie-detail"},wt=["src"],bt={key:1,class:"loading"};function Lt(e,t,o,i,s,r){return i.movie?((0,l.uX)(),(0,l.CE)("div",kt,[(0,l.Lk)("img",{src:i.getImageUrl(i.movie.poster_path),alt:"Movie Poster"},null,8,wt),(0,l.Lk)("h2",null,(0,a.v_)(i.movie.title),1),(0,l.Lk)("p",null,(0,a.v_)(i.movie.overview),1),(0,l.Lk)("p",null,"Release Date: "+(0,a.v_)(i.movie.release_date),1),(0,l.Lk)("p",null,"Rating: "+(0,a.v_)(i.movie.vote_average),1)])):((0,l.uX)(),(0,l.CE)("div",bt,t[0]||(t[0]=[(0,l.Lk)("p",null,"Loading movie details...",-1)])))}var yt={name:"MovieDetail",props:{movieId:{type:Number,required:!0}},setup(e){const t=(0,f.KR)(null),o=async()=>{try{const o=await L.A.get(`https://api.themoviedb.org/3/movie/${e.movieId}?api_key=81f42d2de384021ea4f2689001e1860a&language=ko-KR`);t.value=o.data}catch(o){console.error("Error fetching movie details:",o)}},i=e=>`https://image.tmdb.org/t/p/w500${e}`;return(0,l.sV)((()=>{o()})),{movie:t,getImageUrl:i}}};const Ct=(0,C.A)(yt,[["render",Lt],["__scopeId","data-v-3d3eafaf"]]);var Mt=Ct;const Rt=[{path:"/",component:I,children:[{path:"",component:de},{path:"popular",component:ft},{path:"wishlist",component:Ke},{path:"search",component:Ze}]},{path:"/signin",component:V},{path:"/movie/:movieId",name:"MovieDetail",component:Mt,props:!0}],Et=(0,k.aE)({history:(0,k.LA)(),routes:Rt});var Kt=Et;const It=(0,i.Ef)(I);It.use(Kt),It.mount("#app")}},t={};function o(i){var l=t[i];if(void 0!==l)return l.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,i,l,s){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],l=e[c][1],s=e[c][2];for(var a=!0,n=0;n<i.length;n++)(!1&s||r>=s)&&Object.keys(o.O).every((function(e){return o.O[e](i[n])}))?i.splice(n--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,l,s]}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,s,r=i[0],a=i[1],n=i[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(n)var c=n(o)}for(t&&t(i);u<r.length;u++)s=r[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},i=self["webpackChunkvue_demosite"]=self["webpackChunkvue_demosite"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(4589)}));i=o.O(i)})();
//# sourceMappingURL=app.7a9b819b.js.map